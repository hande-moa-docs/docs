# 반띵 – 대형마트 소분 모임 서비스 요구사항 명세서

---

## 문서 정보
- **문서명**: 반띵 서비스 요구사항 명세서
- **버전**: v1.0.1
- **작성일**: 2025.09.09
- **작성자**: 강관주
- **최종 수정일**: 2025.09.09

---

### 1. 개요 (Overview)

BanThing은 **지도 기반의 대용량 상품 소분 커뮤니티 플랫폼**입니다. 1~2인 가구의 합리적인 소비를 돕고, 지역 커뮤니티를 활성화하는 것을 목표로 합니다. 기존에 파편화되어 있던 소분 모임을 한곳으로 통합하여 탐색의 불편함을 해소하고, 투명한 거래 환경을 제공하는 데 중점을 둡니다.

---

### 2. 목적 (Purpose)

* 지도 기반의 직관적인 탐색 환경을 제공하여 사용자들이 근처의 소분 모임을 쉽게 찾고 참여할 수 있도록 합니다.
* 호스트의 모임 개설 및 신청자 관리 기능을 지원하여 체계적인 모임 운영을 돕습니다.
* 댓글 시스템을 통해 모임 전후의 소통을 지원하고, 피드백 시스템으로 신뢰를 쌓을 수 있는 커뮤니티를 구축합니다.

---

### 3. 핵심 기능 (Core Features)

* **소셜 로그인**: 카카오톡 로그인을 통해 간편하게 회원가입 및 로그인을 지원
* **지도 기반 모임 탐색**: 지도 API를 활용해 마트 지점별 소분 모임 정보를 직관적으로 확인
* **AI 챗봇 검색**: 자연어 질의를 통해 원하는 조건의 모임을 대화 형태로 검색 (필요 준비물 등 확장 예정)
* **댓글 소통**: MVP 단계에서는 모임 참여 신청부터 세부 조율까지 모든 소통을 댓글로 진행

---

### 4. 기능 요구사항 (Functional Requirements)

#### 4.1 회원/인증

| ID    | 기능 상세                | 우선순위   | 비고                 |
|-------|----------------------|--------|--------------------|
| FR-01 | 카카오톡 소셜 로그인을 통한 회원가입 | MUST   | 비밀번호 미저장           |
| FR-02 | JWT 기반 로그인 및 로그아웃    | MUST   |                    |
| FR-03 | 마이페이지                | MUST   | 내가 만든/참여한 모임 목록 조회 |
| FR-04 | 마이페이지: 프로필 수정        | SHOULD | 사진, 닉네임, 자기소개      |
| FR-05 | 마이페이지: 자신의 평점 조회     | SHOULD |                    |
| FR-06 | 부적절한 사용자 신고          | SHOULD | 관리자에게 메시지 전송       |


* **회원가입**: 카카오톡 소셜 로그인을 통해 회원가입을 진행, 비밀번호 미저장
* **로그인/로그아웃**: JWT 기반 인증, 토큰은 로컬스토리지에 저장하여 전역 상태 관리
* **마이페이지**: 프로필 수정(사진, 닉네임, 자기소개)과 내가 만든/참여한 모임 목록, 자신의 평점 조회를 지원

#### 4.2 모임 관리(호스트)

| ID    | 기능 상세    | 우선순위   | 비고                                                     |
|-------|----------|--------|--------------------------------------------------------|
| FR-07 | 모임 개설    | MUST   | 제목, 소개, 상품, 카테고리, 시간, 주소, 인원, 이미지 등                    |
| FR-08 | 모임 수정    | MUST   | PUT 방식으로 전체 정보 업데이트                                    |
| FR-09 | 신청자 관리   | MUST   | 신청 목록 확인                                               |
| FR-10 | 신청자 관리   | MUST   | PATCH 방식으로 승인(APPROVE) 또는 거절(REJECT)                   |
| FR-11 | 참가자 제거   | SHOULD | PUT 방식, 참가자를 논리적으로 삭제(내보내기)                            |
| FR-12 | 모임 상태 변경 | MUST   | 모임 시간에 따라 자동 변경되거나 호스트가 직접 변경 (모집중, 모집마감, 진행중, 종료, 취소) |

* **모임 개설**: 제목, 소개, 상품 이름, 카테고리, 시간, 지도 API를 이용한 주소, 기타 상세 주소, 최대/최소 인원, 이미지 입력
* **모임 수정**: `PUT` 방식을 사용하여 전체 정보를 업데이트
* **신청자 관리**: 신청 목록 확인 및 `PATCH` 방식으로 승인(`APPROVE`) 또는 거절(`REJECT`) 처리
* **참가자 제거**: `PUT` 방식을 사용하여 참가자를 논리적으로 삭제(내보내기)
* **모임 상태 변경**:
    * **모집중(`RECRUITING`)**: 초기 모임 상태
    * **모집마감(`FULL`)**: 호스트가 직접 모집을 마감하여 추가 신청을 제한
    * **진행중(`ONGOING`)**: 모임 시간이 되면 자동으로 상태가 변경
    * **종료(`COMPLETED`)/취소(`CANCELLED`)**: 호스트가 모임을 종료하거나 취소

#### 4.3 모임 탐색/신청(참여자)

| ID    | 기능 상세       | 우선순위 | 비고                            |
|-------|-------------|------|-------------------------------|
| FR-13 | 모임 목록 조회    | MUST | 카드형 레이아웃 및 무한 스크롤             |
| FR-14 | 모임 필터/검색    | MUST | 지도 선택, 위치, 상품, 상태, 카테고리       |
| FR-15 | 모임 상세 조회    | MUST | 일반 사용자는 목록만, 로그인 회원만 상세 내용 확인 |
| FR-16 | 모임 참여 신청/취소 | MUST | 모집 마감 전 신청 가능, 중복 신청 방지       |
| FR-17 | 신청 상태 확인    | MUST | PENDING, APPROVED, REJECTED   |

* **모임 목록**: 카드형 레이아웃과 무한 스크롤 방식을 적용
* **필터/검색**: 지도 선택, 위치, 상품, 상태, 카테고리
* **모임 상세**: 일반 사용자는 모임 목록만 조회 가능, 로그인한 회원만 모임 상세 내용 확인
* **참여 신청/취소**: 모집 마감 전 신청 가능, 중복 신청은 버튼 비활성화, 비즈니스 로직과 DB 제약 조건으로 방지
* **신청 상태**: PENDING(승인대기) → APPROVED(승인) / REJECTED(거절)

#### 4.4 모임 게시판

| ID    | 기능 상세           | 우선순위   | 비고                              |
|-------|-----------------|--------|---------------------------------|
| FR-18 | 댓글 읽기           | MUST   | 비참여자는 읽기 전용, 호스트/승인된 참여자는 쓰기 가능 |
| FR-19 | 댓글 작성, 수정, 삭제   | MUST   |                                 |

* **개념**: 소분 품목과 일정 등 모임에 대한 질문을 공유하는 공간으로 활용
* **접근 권한**: **호스트 또는 승인된 참여자**만 댓글 작성 가능, 비참여자는 읽기 전용
* **댓글**: 작성/수정/삭제

#### 4.5 피드백(신뢰도 점수)

| ID    | 기능 상세                      | 우선순위 | 비고                                       |
|-------|----------------------------|------|------------------------------------------|
| FR-20 | 피드백 작성                     | MUST | 모임 상태 `COMPLETED`, 본인 제외                 |
| FR-21 | 사용자 신뢰도 점수 시스템             | MUST | 초기 점수 300점                               |
| FR-22 | 신뢰도 등급 확인                  | MUST | '500점 이상: 좋음, 101~499점: 기본, 100점 이하: 경고' |
| FR-23 | 마이페이지에서 자신의 신뢰도 점수 및 등급 조회 | MUST |                                          |

* **개념**: 모임이 종료된 후 참여자에게 점수를 부여하여 신뢰도 등급을 관리하는 시스템
* **조건**: 모임이 **종료(`COMPLETED`)** 상태이고, 본인을 제외한 대상에게만 가능
* **작성/조회**: 모임이 종료된 후 모임 상세 페이지에서 점수 부여 가능, 마이페이지에서 자신의 신뢰도 점수 및 등급 확인 가능
* **사용자 신뢰도 점수 시스템**:
  * **점수 획득**:
    * 모임 생성: +2점
    * 모임 참여: +1점
    * 좋은 피드백 1개당: +3점
  * **점수 차감**:
    * 노쇼: -20점
    * 나쁜 피드백 1개당: -3점
* **신뢰도 등급**:
  * 좋음 (500점 이상)
  * 기본 (101점 ~ 499점)
  * 경고 (100점 이하)
  * 등급에 따라 닉네임 앞 배지 추가

---

### 5. 비기능 요구사항 (Non-functional Requirements)

* **성능**: 평균 응답 1.5초 이내
* **보안**:
  * JWT 토큰 기반 인증, 로컬스토리지에 저장
  * API 권한 검증을 통해 `401`(인증 실패) 및 `403`(권한 없음) 에러를 처리
  * XSS(Cross-Site Scripting) 방지를 위해 HTML 이스케이프 처리를 적용
  * 민감정보 마스킹/로그 금지
  * 카카오 소셜 로그인 구현 방식
    * `OAuth 2.0`의 `Authorization Code Grant`를 사용
    * **장점**: 토큰 관리를 서버에서 **직접** 처리하여 보안성이 높음
    * **인가 코드 리다이렉트**: 개발 편의성을 위해 프론트엔드로 리다이렉트
    * **보안 고려 사항**: 인가 코드가 URL에 노출되어 브라우저 히스토리 및 서버 로그에 기록될 수 있지만, 유효시간이 5분으로 짧고 1회성이므로 보안 위험은 낮은 것으로 판단
    * **중요**: 인가 코드를 받은 후 **토큰 교환은 반드시 백엔드에서 처리**해야 함 (토큰을 프론트에서 직접 받지 않음)
* **신뢰성/정합성**: 정원 초과/중복 신청 방지를 트랜잭션으로 보장, 삭제 시 논리적 삭제 적용
* **사용성**: 앱 UI 형태로 제작하여 사용 편의성 증대
* **운영**: 회원가입/모임 생성/에러 로깅, 감사 추적(누가 언제 무엇을)

---

### **7. 운영 정책**
* 미정, 추후 논의

---

### **8. 제약 사항**
* 미정, 추후 논의

---

### **9. 향후 확장 계획 (Future Enhancements)**

#### **Phase 2 (v2.0)**

* 모바일 앱 개발
* 실시간 알림 기능

#### **Phase 3 (v3.0)**

* 결제 시스템
* 실시간 채팅 기능

---

### **10. 용어 정의 (Glossary)**

* **모임(Meeting)**: 오프라인 소분 이벤트의 단위
* **호스트(Host)**: 모임 개설·운영 권한자
* **참여자(Participant)**: 모임에 신청/승인되어 활동하는 사용자
* **피드백(Feedback)**: 사용자의 활동과 상호 평가에 기반한 신뢰도 점수 시스템
* **신뢰도 점수(Trust Score)**: 사용자의 활동(모임 생성/참여) 및 피드백에 따라 부여되는 점수
* **모임 게시판(Comment)**: 해당 모임 참여자 전용 소통 공간

---

## 변경 이력

| 버전     | 날짜         | 변경 내용           | 작성자 |
|--------|------------|-----------------|-----|
| v1.0.0 | 2025-09-08 | 초기 문서 작성        | 강관주 |
| v1.0.1 | 2025-09-09 | 기능, 비기능 요구사항 수정 | 강관주 |


---