# 1\. 사용자 인증 및 온보딩 화면 명세서

## 문서 정보

- **문서명**: 사용자 인증 및 온보딩 화면 명세서
- **버전**: v1.1.0
- **작성일**: 2025.09.09
- **작성자**: [고동현](https://github.com/rhehdgus8831)
- **최종 수정일**: 2025.09.10

-----

> **레이아웃 가이드**\<br\>
> 본 와이어프레임의 전체적인 구조와 비율은 [레이아웃 가이드](wireframe-layout-giude.md)를 따릅니다.

## 1\. 개요 (Overview)

본 문서는 사용자가 서비스에 진입하여 소셜 로그인을 통해 인증을 완료하고, 신규 사용자의 경우 서비스 약관에 동의하기까지의 전체 화면 흐름과 기능적 요구사항을 정의합니다. 모든 사용자가 하나의 로그인 경로를 통해 즉시 서비스를 경험하게 하되, 신규 사용자에 한해 약관 동의를 후처리하여 편의성과 안정성을 모두 만족시키는 것을 목표로 합니다.

## 2\. 사용자 흐름 (User Flow)

모든 사용자는 헤더의 '로그인' 버튼을 통해 인증을 시작하며, 서버에서 신규/기존 사용자를 판별하여 각기 다른 흐름을 따릅니다.

> **✅ 기존 사용자**: `앱 실행` → `로그인 버튼` → `[AUTH-001] 소셜 로그인` → (카카오 인증) → `(로그인 성공)` → `메인 화면`

> **✅ 신규 사용자**: `앱 실행` → `로그인 버튼` → `[AUTH-001] 소셜 로그인` → (카카오 인증) → `(서버에서 신규 회원 감지 및 임시 회원으로 로그인)` → `메인 화면 로드` → **`[AUTH-002] 약관 동의 모달 노출`** → `(필수 약관 동의 후 확인)` → `(정회원 전환)` → `모달 닫힘 및 서비스 완전 이용`

- 보다 자세한 전체 사용자 흐름은 아래 링크를 참고해주세요.
- [유저 플로우 전체 흐름 보러가기](../user-flow/userFlow.md)

-----

## 3\. 화면 상세 명세 (Screen Specifications)

### 3.1. [AUTH-001] 소셜 로그인 페이지

- **화면 설명**: 모든 사용자가 카카오 계정을 통해 서비스를 시작하는 첫 관문입니다.

- **진입 조건**: 사용자가 헤더 메뉴의 '로그인' 버튼을 클릭했을 때.

- **와이어프레임**:

![로그인 페이지](../assets/img/wireframe/wireframe-auth-01-20250909.png)

- **레이아웃 및 구성 요소**

| ID | 구분 | 요소명 | 설명 |
| :--- | :--- | :--- | :--- |
| 1-1 | 버튼 | 카카오로 시작하기 | 클릭 시 카카오 인증을 시작합니다. (UI상 '로그인' 또는 '시작하기' 등으로 표현) |

- **상호작용 및 정책**
    1.  **'카카오로 시작하기' 버튼 클릭 시**: 즉시 카카오 인증 절차를 시작합니다.
    2.  **카카오 인증 후 서버 로직**:
        - 프론트엔드는 카카오로부터 받은 `인가 코드`를 백엔드 서버로 전송합니다.
        - 서버는 `인가 코드`로 사용자 정보를 조회 후, 우리 DB와 대조합니다.
            - **[CASE 1: 기존 회원]**: 즉시 **로그인 성공** 처리. JWT 토큰을 발급하고, 프론트엔드는 `메인 페이지`로 이동합니다.
            - **[CASE 2: 신규 회원]**: 사용자를 **'임시 회원'** 상태로 DB에 생성하고 로그인 처리합니다. JWT 토큰 발급 후, 프론트엔드는 `메인 페이지`로 이동하여 **`[AUTH-002] 약관 동의 모달`** 을 띄울 준비를 합니다.

-----

### 3.2. [AUTH-002] 약관 동의 모달

- **화면 설명**: **신규 가입자**가 서비스의 정식 이용을 위해 필수 약관에 동의하는 모달(Modal) 창입니다. 메인 페이지 위에 노출됩니다.

- **진입 조건**: 신규 회원이 소셜 로그인을 마치고 메인 페이지에 처음 진입했을 때.

- **와이어프레임**:

![약관동의 모달](../assets/img/wireframe/wireframe-auth-02-20250909.png)

- **레이아웃 및 구성 요소**

| ID | 구분 | 요소명 | 설명 |
| :--- | :--- | :--- | :--- |
| 2-1 | 타이틀 | 페이지 타이틀 | "서비스 이용 약관 동의" |
| 2-2 | 체크박스 | 전체 동의 | 모든 하위 약관을 한번에 선택/해제합니다. |
| 2-3 | 체크박스 | 서비스 이용약관 (필수) | |
| 2-4 | 체크박스 | 개인정보 수집 동의 (필수) | |
| 2-5 | 버튼 | 로그아웃 | 동의를 원치 않을 경우, 서비스를 즉시 로그아웃하고 이탈합니다. |
| 2-6 | 버튼 | 확인 | 모든 필수 약관에 동의했을 때 활성화됩니다. |

- **상호작용 및 정책**
    - 이 모달은 **강제적**이며, 닫기 버튼 없이 `확인` 또는 `로그아웃`을 통해서만 상호작용이 가능합니다.
    - `확인` 버튼은 **모든 필수 약관(2-3, 2-4)이 체크되기 전까지 비활성화** 상태를 유지합니다.
    - `확인` 버튼 클릭 시, 서버로 약관 동의 정보가 전송되고 사용자는 '정회원'으로 상태가 업데이트됩니다. 이후 모달은 닫히고 모든 서비스를 정상적으로 이용할 수 있습니다.
    - `로그아웃` 버튼 클릭 시, 즉시 세션이 종료되고 로그인 페이지로 돌아갑니다.

-----

> 이제 사용자가 로그인 후 마주할 첫 화면인 메인 페이지의 명세서로 이동합니다.<br>

> [메인 화면 및 모임 탐색 화면 명세서](wireframe-main-page.md)



## 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
| :--- | :--- | :--- | :--- |
| v1.1.0 | 2025.09.10 | '약관 동의 후처리' 방식에 맞춰 전체 인증 흐름 및 화면 명세 수정 | 고동현 |
| v1.0.0 | 2025.09.09 | 초기 문서 작성 | 고동현 |